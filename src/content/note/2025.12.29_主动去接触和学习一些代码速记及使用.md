---
title: 主动去接触和学习一些代码速记及使用
description: 这是一篇有意思的文章
publishDate: 2025-12-29T11:26
---
\============================================

你要主动去接触和学习，那些自己感兴趣的东西

\============================================



\====================================#查看网络相关信息



ifconfig                            #查看IP

cat /etc/resolv.conf                #查看DNS

nameserver x.x.x.x

nameserver 8.8.8.8                  #设置DNS

route -n                            #查看网关

route add default gw x.x.x.x        #设置默认网关

\====================================#ubuntu更改启动列表等待时间



vi /etc/default/grub                #编辑grub引导文件

GRUB_TIMEOUT=1                      #将数字改成自己所需时间，以秒为单位

update-grub                         #必须使用此命令更新设置，不然重启都没用

\====================================#设置固定IP



cd /etc/netplan/    #看这个目录下有什么文件，然后 vi xxxx.yaml

\# This is the network config written by 'subiquity'

network:

  ethernets:

\    eth0:

\    addresses:

\- 192.168.1.1/24

\    gateway4: 192.168.1.254

\    nameservers:

\    addresses: \[222.246.129.81,59.51.78.211]

\    search: \[]

  version: 2

\#其它多余的内容全部删除即可#如果升级总是提示失败的话，更改DNS

sudo vi /etc/resolv.conf

\#添加阿里云的DNS服务器

nameserver 223.5.5.5

nameserver 223.6.6.6

/etc/init.d/networking restart      #重启网络服务

\====================================#CentOS设置固定IP



cd /etc/sysconfig/network-scripts   #进入目录

ip addr                             #查看网卡名字

找到ifcfg-ens32                     #比如网卡名字是ens32，那么就是这个文件

vi ifcfg-ens32                      #编辑网卡文件配置，更改如下

ONBOOT=no                           #no改成 yes

BOOTPROTO=dhcp                      #如果是手动，需要将dhcp改成static，自动获取就不需要改

IPADDR=x.x.x.x                      #IP地址

NETMASK=x.x.x.x                     #子网掩码

GATEWAY=x.x.x.x                     #网关

DNS1=X.X.X.X                        #互联网环境需要配置DNS,不然只能ping IP地址无法ping域名

DNS2=X.X.X.X

service network restart             #保存后退出，重启网络服务后生效

\====================================#时间同步试试这条命令  



timedatectl set-timezone Asia/Shanghai

date -R     #查看当前时间

tzselect    #依次选择 Asia/Chia/BeiJing/Yes     #如系统提示没有，安装 tzdata 

sudo cp /usr/share/zoneinfo/Asia/Shanghai  /etc/localtime     #复制文件，date -R 再看时区，这个时候一般就是 +8 的时区了

sudo hwclock --systohc     #写入硬件CMOS时间

\====================================#设置密匙登录



setenforce 0                                                  #关闭SELinux，CentOS可能需要，修改完以后可改成1即可启用

ssh-keygen -t rsa                                             #生成密匙文件，将当前用户.ssh目录内的两个密钥文件下载到本地，必须下载，不然等会没有密匙文件登录

 Enter file in which to save the key (/root/.ssh/id_rsa):     #这个是选择密匙存放路径及密匙文件名称，直接回车采取默认值

 Enter passphrase (empty for no passphrase):                  #设置密匙密码

 Enter same passphrase again:                                 #确认密匙密码

touch ~/.ssh/authorized_keys                                  #在当前用户目录下新建authorized_keys密匙文件，此文件名必须是这个

cd .ssh && cat id_rsa.pub >> authorized_keys                  #用生成的公匙文件内容写入authorized_keys

vi /etc/ssh/sshd_config                                       #编辑ssh配置文件，编辑文件之前必须确认是否下载密匙文件

RSAAuthentication yes

PubkeyAuthentication yes

PermitRootLogin yes                                           #允许root用户登录

PasswordAuthentication no                                     #禁止密码登录 

systemctl restart sshd                                        #重启ssh服务，令修改生效

\====================================#设置代理



vi ~/.bashrc                                                  #编辑当前用户环境文件

vi /etc/yum.conf                                              #CentOS系统

export http_proxy=http://xxxx:xxxx                            #任意文件添加变量

export https_proxy=http://xxxx:xxxx

export sosket_proxy=http://xxxx:xxxx

export all_proxy=http://xxxx:xxxx

source ~/.bashrc                                              #加载变量即时生效

\====================================#查看用户及组



cat /etc/shadow     #查看用户

cat /etc/group     #查看绠

\====================================#关闭屏幕显示



xset -display :0.0 dpms force off     #关闭

xset -display :0.0 dpms force on      #打开

\====================================#笔记本电脑盖盖后不休眠



vi /etc/systemd/logind.conf           #把 HandleLidSwitch 的参数改为 lock, 并去掉前面的#注释，如果没有权限改成777，修改好以后恢复644权限

systemctl restart systemd-logind      #重启服务

\====================================#升级(带参数 -y ，可无需确认)  ppa源在 /etc/apt/sources.list.d 文件夹里



sudo cp /etc/apt/sources.list /etc/apt/sources.list.backup       #备份源文件

sudo sed -i 's/http:\/\/.*.ubuntu.com/https:\/\/mirrors.aliyun.com/g' /etc/apt/sources.list             #更换阿里源

sudo sed -i 's/http:\/\/.*.ubuntu.com/https:\/\/mirrors.tuna.tsinghua.edu.cn/g' /etc/apt/sources.list   #更换清华源

sudo sed -i 's/http:\/\/.*.ubuntu.com/https:\/\/mirrors.163.com/g' /etc/apt/sources.list                #更换网易源

sudo sed -i 's/http:\/\/.*.ubuntu.com/https:\/\/mirrors.ustc.edu.cn/g' /etc/apt/sources.list            #更换科大源

sudo apt-get update && apt-get upgrade && apt dist-upgrade -y      # update更新系统     upgrade更新系统内的软件

\====================================#升级系统CentOS



sudo yum update -y                  # CentOS 的升级命令，如果提示无法升级，检查网卡配置文件是否有DNS配置

yum repolist all                    #查看所有仓库源

yum-config-manager --enable xxxxx   #启用仓库源

yum-config-manager --disable xxxx   #禁用仓库源

\====================================#CentOS安装deb



wget http://linux4you.in/alien-8
